@*@model GeneralValuationSubs.Models.DraftGv*@

@model GeneralValuationSubs.Models.DraftGvViewModel

<head>
     <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="~/lib/datatables/css/dataTables.bootstrap4.css"/>
    <script src="~/lib/datatables/js/jquery.dataTables.min.js"></script>
    <script src="~/lib/datatables/js/dataTables.bootstrap4.min.js"></script>
</head>

@{
    ViewData["Title"] = "Details";
}

<body class="">
    <h1>Details</h1>

<div class="table-responsive" style="width:100%">
    <div  style="width:100%">
    <h4> Current General Valuation </h4>
    <table id="demoGrid" class= "table table-striped table-bordered dt-responsive nowrap" cellspacing="0">
        <thead>
            <tr>
                <th>
                     @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().PremiseId)
                </th>
                 <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().Town)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().Gv18category)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().Gv18marketValue)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().PurchaseDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().PurchasePrice)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().ZoneCode)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().LislegalArea)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().AdjustedWgba)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().DiffsGv23vsGv18)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().CalculatedValue)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().Ddarea)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().DraftValue)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().CategoryOverride)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().CategoryRevised)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().CommentCategory)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().ValueOverride)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().ValueRevised)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().CommentValue)
                </th>   
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().FlagDelete)
                </th> 
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().DateTime)
                </th> 
                <th>
                    @Html.DisplayNameFor(model => Model.draftGv.FirstOrDefault().UserName)
                </th> 
            </tr>
        </thead>
        <tbody>
        @foreach (var item in Model.draftGv) 
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelitem => item.PremiseId)
                </td>
                 <td>
                    @Html.DisplayFor(modelItem => item.Town)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Gv18category)
                </td>                
                <td>
                    <span id="marketValue2">@Html.DisplayFor(modelItem => item.Gv18marketValue)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PurchaseDate)
                </td> 
                <td>
                    <span id="PurchasePrice2">@Html.DisplayFor(modelItem => item.PurchasePrice)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ZoneCode)
                </td> 
                <td>
                    @Html.DisplayFor(modelItem => item.LislegalArea)
                </td>                               
                <td>
                    @Html.DisplayFor(modelItem => item.AdjustedWgba)
                </td>      
                <td>
                    @Html.DisplayFor(modelItem => item.DiffsGv23vsGv18)
                </td>                 
                <td>
                    <span id="CalculatedValue2">@Html.DisplayFor(modelItem => item.CalculatedValue)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ddarea)
                </td>                 
                <td>
                    <span id="DraftValue2">@Html.DisplayFor(modelItem => item.DraftValue)</span>
                </td> 
                <td>
                   @(item.CategoryOverride.GetValueOrDefault() ? "No":"Yes") 
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CategoryRevised)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CommentCategory)
                </td>
                <td>
                    @(item.ValueOverride.GetValueOrDefault() ? "Yes":"No") 
                </td>
                <td>
                    <span id="ValueRevised2">@Html.DisplayFor(modelItem => item.ValueRevised)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CommentValue)
                </td>
                <td>
                    @(item.FlagDelete.GetValueOrDefault() ? "Yes":"No") 
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UserName)
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>

<br />

<div>
    <h4> Audit General Valuation </h4>
    <table id="AuditGrid" class= "table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().PremiseId)
                </th>
                 <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().Town)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().Gv18category)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().Gv18marketValue)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().PurchaseDate)
                </th> 
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().PurchasePrice)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().ZoneCode)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().LislegalArea)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().AdjustedWgba)
                </th>      
                 <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().DiffsGv23vsGv18)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().CalculatedValue)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().Ddarea)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().DraftValue)
                </th>                  
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().CategoryOverride)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().CategoryRevised)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().CommentCategory)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().ValueOverride)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().ValueRevised)
                </th>
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().CommentValue)
                </th>   
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().FlagDelete)
                </th> 
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().DateTime)
                </th> 
                <th>
                    @Html.DisplayNameFor(model => Model.draftGvAudit.FirstOrDefault().UserName)
                </th> 
            </tr>
        </thead>
        <tbody>
        @foreach (var item in Model.draftGvAudit) 
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelitem => item.PremiseId)
                </td>
                 <td>
                    @Html.DisplayFor(modelItem => item.Town)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Gv18category)
                </td>
                <td>
                    <span id="marketValue">@Html.DisplayFor(modelItem => item.Gv18marketValue)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PurchaseDate)
                </td> 
                <td>
                    <span id="PurchasePrice">@Html.DisplayFor(modelItem => item.PurchasePrice)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ZoneCode)
                </td> 
                <td>
                    @Html.DisplayFor(modelItem => item.LislegalArea)
                </td> 
                <td>
                    @Html.DisplayFor(modelItem => item.AdjustedWgba)
                </td> 
                <td>
                    @Html.DisplayFor(modelItem => item.DiffsGv23vsGv18)
                </td>
                <td>
                    <span id="CalculatedValue">@Html.DisplayFor(modelItem => item.CalculatedValue)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ddarea)
                </td>                 
                <td>
                    <span id="DraftValue">@Html.DisplayFor(modelItem => item.DraftValue)</span>
                </td>                 
                <td>
                    @(item.CategoryOverride.GetValueOrDefault() ? "Yes":"No")
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CategoryRevised)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CommentCategory)
                </td>
                <td>
                    @(item.ValueOverride.GetValueOrDefault() ? "Yes":"No")
             
                <td>
                    <span id="ValueRevised">@Html.DisplayFor(modelItem => item.ValueRevised)</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CommentValue)
                </td>
                <td>
                @(item.FlagDelete.GetValueOrDefault() ? "Yes":"No") 
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UserName)
                </td>
            </tr>
        }
        </tbody>
    </table>
    <div>
    <a asp-action="Index">Back to List</a>
    </div>
</div>
</div>
</body>

<script> 
   
    $('#AuditGrid').dataTable({  
        "aoColumnDefs": [ {
        "aTargets": [ 3,4 ],
        "mRender": function (data, type, full) {
        var formmatedvalue=data.replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        return formmatedvalue;
        }
        }]
        "paging": false,
        "ordering": false,
        "searching": false,
        "lengthChange": false,
        "info": false
    });

        //Market Value
        //var mark = document.getElementById('marketValue').innerHTML;
        ////var valu = 'R '+'R '+new Intl.NumberFormat().format(mark);
        //var valu = mark.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        //document.getElementById('marketValue').innerHTML = valu;
</script>
